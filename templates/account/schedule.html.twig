{% extends 'base.html.twig' %}
    {#{% block content_header %}#}
        {#<section class="content-header">#}
            {#<h1>#}
                {#<i class="fa fa-list" aria-hidden="true"></i> List Accounts#}
            {#</h1>#}
            {#<ol class="breadcrumb">#}
                {#<li><a href="{{ url('account_index') }}"><i class="fa fa-dashboard"></i> Accounts</a></li>#}
                {#<li class="active">List</li>#}
            {#</ol>#}
        {#</section>#}
    {#{% endblock %}#}

{% block body_class %}login{% endblock %}
{% block body %}
    <div class="col-md-12 col-sm-12" style="margin: 5% auto;">
     <div class="col-md-12 col-sm-12 col-xs-12">
         <div class="box box-primary">

             <div class="x_content">
                 <div class="box-body">
                     <div class="row">
                         {% if account is defined %}

                             {% if account.schedules|length > 0 %}
                                 <h2 class="text-center">{{ account.name }} {{ "label.facility_schedule"|trans }}</h2>
                                 <div class="col-md-12">
                                 <table id="datatable-responsive" class="table table-striped table-bordered dt-responsive nowrap table-hover" cellspacing="0">
                                     <thead>
                                     <tr>
                                         <th>{{ "label.date"|trans }}</th>
                                         <th>{{ "label.facility"|trans }}</th>
                                         <th>{{ "label.from"|trans }}</th>
                                         <th>{{ "label.to"|trans }}</th>
                                         <th>{{ "label.parts"|trans }}</th>
                                         <th>{{ "label.additional_info"|trans }}</th>
                                     </tr>
                                     </thead>
                                     <tbody>
                                    {% for schedule in account.schedules %}
                                        <tr>
                                            <td>{{ schedule.date|date('Y-m-d') }}</td>
                                            <td>{{ schedule.facility.name }} {#{{ constant('App\\Entity\\Facility::TYPES')[schedule.facility.type] }}#}</td>
                                            <td>{{ schedule.timeFrom|date('H:i') }}</td>
                                            <td>{{ schedule.timeTo|date('H:i') }}</td>
                                            <td>{{ constant('App\\Entity\\Facility::PARTS')[schedule.facility.type][schedule.parts] }}</td>
                                            <td>
                                                {% if schedule.lanes is not null %}
                                                    Lanes number:
                                                    {% for lane in schedule.lanes|unserialize|keys %}
                                                        {{ lane }},
                                                    {% endfor %}
                                                {% endif %}
                                            </td>
                                        </tr>
                                    {% endfor %}
                                     </tbody>
                                 </table>
                                 </div>
                             {% endif %}

                             {% if account.mealSchedules|length > 0 %}
                                 <h2 class="text-center">{{ account.name }} {{ "label.meal_schedule"|trans }}</h2>
                                 <div class="col-md-12">
                                     <table id="datatable-responsive" class="table table-striped table-bordered dt-responsive nowrap table-hover" cellspacing="0">
                                         <thead>
                                         <tr>
                                             <th>{{ "label.date"|trans }}</th>
                                             <th>{{ "label.restaurant"|trans }}</th>
                                             <th>{{ "label.breakfast"|trans }}</th>
                                             <th>{{ "label.lunch"|trans }}</th>
                                             <th>{{ "label.dinner"|trans }}</th>
                                             <th>{{ "label.middle_breakfast"|trans }}</th>
                                         </tr>
                                         </thead>
                                         <tbody>
                                         {% for schedule in account.mealSchedules %}
                                             <tr>
                                                 <td>{{ schedule.date|date('Y-m-d') }}</td>
                                                 <td>{{ constant('App\\Entity\\Query::RESTAURANTS')[schedule.restaurant] }}</td>
                                                 <td>
                                                     {% if schedule.breakfastTime is not null %}
                                                        {{ schedule.breakfastTime|date('H:i') }}
                                                     {% else %}
                                                         -
                                                     {% endif %}
                                                 </td>
                                                 <td>
                                                     {% if schedule.lunchTime is not null %}
                                                        {{ schedule.lunchTime|date('H:i') }}
                                                     {% else %}
                                                         -
                                                     {% endif %}
                                                 </td>
                                                 <td>
                                                     {% if schedule.dinnerTime is not null %}
                                                        {{ schedule.dinnerTime|date('H:i') }}
                                                     {% else %}
                                                         -
                                                     {% endif %}
                                                 </td>
                                                 <td>
                                                    {% if schedule.middleBreakfastTime is not null %}
                                                        {{ schedule.middleBreakfastTime|date('H:i') }}
                                                    {% else %}
                                                        -
                                                    {% endif %}
                                                 </td>
                                             </tr>
                                         {% endfor %}
                                         </tbody>
                                     </table>
                                 </div>
                             {% endif %}

                         {% endif %}

                         <div class="col-md-4 col-md-offset-4 text-center">
                            <a href="{{ url('account_teams_schedule') }}" class="btn bg-primary">{{ "general.button.back"|trans }}</a>
                         </div>

                     </div>
                </div>
             </div>
         </div>
     </div>
     </div>

 {% endblock %}